{"version":3,"sources":["webpack:///./src/pages/fuxing/index1.vue?8288","webpack:///./src/pages/fuxing/index1.vue","webpack:///./src/pages/fuxing/index1.vue?cf45","webpack:///src/pages/fuxing/index1.vue"],"names":[],"mappings":";;;;;AAAA,yC;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,EAAE,mBAAO,CAAC,MAA6oB;AACvpB;AACA,yBAAyB,mBAAO,CAAC,MAA4D;AAC7F;AAC6G;AACa;AAC1H;AACiX;AACjX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,yHAAc;AAChB,EAAE,uSAAgB;AAClB;AACA;AACA;AACA;AACA;;AAEe,gFAAiB;;;;;;;;;AC1BhC,0BAA0B,aAAa,0BAA0B,wBAAwB,iBAAiB,wBAAwB,YAAY,yBAAyB,4CAA4C,iBAAiB,YAAY,YAAY,uBAAuB,uDAAuD,yBAAyB,wCAAwC,iBAAiB,kCAAkC,yBAAyB,+CAA+C,aAAa,kCAAkC,yEAAyE,wBAAwB,aAAa,OAAO,2BAA2B,sBAAsB,YAAY,0BAA0B,yBAAyB,4BAA4B;AACtzB;AACA,iBAAiB;AACF,kE;;;;;;;;;;;;;;;;;;ACiBf;;;;AACA;;;;;;;;;;;;;;;;;;;;;;;;kBACA;AACA,kBADA;AAEA,QAFA,kBAEA;AACA;AACA,yBADA;AAEA,wBAFA;AAGA;AAHA;AAKA,KARA;;AASA;AACA;AACA,oBAFA,0BAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA,iBAHA;AAIA;AACA,aANA,MAOA;AACA;AACA;AACA,SAdA;;AAeA;AACA,oBAhBA,0BAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAJA,MAKA;AACA;AACA;AACA,qBATA;AAUA,iBAXA;AAYA,aAbA;AAcA;AACA;AACA;AACA;AACA;AACA;AACA,iBAJA;AAKA,aANA;AAOA;AACA;AACA;AACA,aAHA,MAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BANA,MAOA;AACA;AACA,6BAFA,MAGA;AACA;AACA;AACA;AACA,yBAfA;AAgBA,qBAjBA;AAkBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCADA;AAEA;AAFA;AAIA;AACA,yCADA;AAEA;AACA,8CADA;AAEA;AAFA,yBAFA;AAMA,6CANA;AAOA;AAPA,uBASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCARA,CAQA;AACA,qBAlBA;AAmBA,iBApDA,MAqDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SApHA;AAqHA,qBArHA,yBAqHA,IArHA,EAqHA;AAAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAPA;AAQA,SA9HA;AA+HA,gBA/HA,oBA+HA,IA/HA,EA+HA,IA/HA,EA+HA,KA/HA,EA+HA;AAAA;;AACA;AACA;AACA;AACA;AACA;AACA,aALA;AAMA,SAtIA;;AAuIA;AACA,oBAxIA,wBAwIA,WAxIA,EAwIA,KAxIA,EAwIA,GAxIA,EAwIA;AACA;AACA;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBALA;AAMA;AACA;AACA,SAtJA;;AAuJA;AACA,iBAxJA,qBAwJA,GAxJA,EAwJA;AACA;AACA;AACA;AACA;AACA;AACA,qBAFA,MAGA;AACA;AACA;AACA,iBAPA;AAQA,aATA;AAUA;AACA;AACA;AAtKA,KATA;AAiLA,WAjLA,qBAiLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAxLA,C","file":"static/js/23.js","sourcesContent":["// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"sourceMap\":true,\"alias\":{\"@\":\"E://A_Project//zhineng//static//images\"}}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-7e922663\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/postcss-loader/lib!./node_modules/sass-loader/dist/cjs.js!./node_modules/sass-resources-loader/lib/loader.js?{\"resources\":[\"E://A_Project//zhineng//src//sass//helper//_function.scss\",\"E://A_Project//zhineng//src//sass//helper//_variables.scss\"]}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/pages/fuxing/index1.vue\n// module id = DbAC\n// module chunks = 23","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true,\\\"alias\\\":{\\\"@\\\":\\\"E:\\\\\\\\A_Project\\\\\\\\zhineng\\\\\\\\static\\\\\\\\images\\\"}}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7e922663\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!postcss-loader!sass-loader!sass-resources-loader?{\\\"resources\\\":[\\\"E:\\\\\\\\A_Project\\\\\\\\zhineng\\\\\\\\src\\\\\\\\sass\\\\\\\\helper\\\\\\\\_function.scss\\\",\\\"E:\\\\\\\\A_Project\\\\\\\\zhineng\\\\\\\\src\\\\\\\\sass\\\\\\\\helper\\\\\\\\_variables.scss\\\"]}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index1.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index1.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index1.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7e922663\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index1.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/fuxing/index1.vue\n// module id = FNJQ\n// module chunks = 23","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"fx-index1\"},[_c('div',{staticClass:\"fx-wrapper\"},_vm._l((_vm.type4arr),function(item,index){return _c('div',{key:item.id},[_c('div',{staticClass:\"fx-title\"},[_vm._v(_vm._s(item.content))]),_vm._v(\" \"),_c('div',{staticClass:\"fx-content\"},_vm._l((item.children),function(val,i){return _c('div',{key:val.id,staticClass:\"item\",on:{\"click\":function($event){return _vm.choseDisease(index,i,val.choosed)}}},[_c('span',{class:val.choosed?'activeItem':''},[_vm._v(_vm._s(val.content))]),_vm._v(\" \"),(val.choosed == 1)?_c('div',{staticClass:\"choseIcon\"}):_vm._e()])}),0)])}),0),_vm._v(\" \"),_c('div',{staticClass:\"fx-btns\"},[_c('div',{staticClass:\"nextBtn\",on:{\"click\":function($event){return _vm.submitDiease()}}},[_vm._v(\"选好了\")])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7e922663\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/fuxing/index1.vue\n// module id = G1Va\n// module chunks = 23","<template>\r\n<div class=\"fx-index1\">\r\n    <div class=\"fx-wrapper\">\r\n    <div v-for=\"(item,index) in type4arr\" :key=\"item.id\">\r\n        <div class=\"fx-title\">{{item.content}}</div>\r\n        <div class=\"fx-content\">\r\n            <div class=\"item\" v-for=\"(val,i) in item.children\" :key=\"val.id\" @click=\"choseDisease(index,i,val.choosed)\">\r\n                <span :class=\"val.choosed?'activeItem':''\">{{val.content}}</span>\r\n                <div v-if=\"val.choosed == 1\" class=\"choseIcon\"></div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    </div>\r\n    <div class=\"fx-btns\">\r\n        <div class=\"nextBtn\" @click=\"submitDiease()\">选好了</div>\r\n    </div>\r\n</div>\r\n</template>\r\n    \r\n<script>\r\nimport Vue from \"vue\";\r\nimport { Indicator } from 'mint-ui';\r\nexport default {\r\n    name:'index1',\r\n    data(){\r\n        return{\r\n            orderId:null,\r\n            type4arr:[],\r\n            QUES_ILLS:[],\r\n        }\r\n    },\r\n    methods:{\r\n        // 获取默认选择数组\r\n        getAllChoose() {\r\n            var list = JSON.parse(JSON.stringify(this.type4arr));\r\n            if(list && list.length>0){\r\n                var filterData = list.filter((item) => {\r\n                    item.children = item.children.filter(t => t.choosed);\r\n                    return item.choosed == 1;\r\n                });\r\n                return filterData;\r\n            }\r\n            else{\r\n                return [];\r\n            }\r\n        },\r\n        //提交\r\n        submitDiease(){\r\n            var flag = false;\r\n            this.initList(this.QUES_ILLS,2,3);\r\n            this.initList(this.QUES_ILLS,2,4);\r\n            let QUES_ILLS = JSON.parse(JSON.stringify(this.QUES_ILLS));\r\n            let result = this.getAllChoose();\r\n            let findItem = function(arr1,arr2){\r\n                arr1.map((item1)=>{\r\n                    arr2.map((item2)=>{\r\n                        if(item1.id === item2.id){\r\n                            // console.log(\"item1\",item1);\r\n                            // console.log(\"item2\",item2);\r\n                            item1.children = item2.children;\r\n                        }\r\n                        else{\r\n                            findItem(item1.children,arr2)\r\n                        }\r\n                    })\r\n                })\r\n            }\r\n            let tmp = findItem(QUES_ILLS,result);\r\n            result.map(item=>{\r\n                item.children.map(item=>{\r\n                    if(item.choosed === 1){\r\n                        flag = true\r\n                    }\r\n                })\r\n            })\r\n            if(!flag){\r\n                this.$popup.msg(\"请您先选择疾病！\")\r\n                return\r\n            }\r\n            else{\r\n                this.hasQuestion=false;\r\n                this.findQuestions(QUES_ILLS);\r\n                console.log(\"this.hasQuestion\",this.hasQuestion);\r\n                if(!this.hasQuestion){\r\n                    //没有问题的情况下，直接跳过问答页和问答确认页 到结果页面\r\n                    sessionStorage.setItem(\"TMP_QUES_ILLS\",JSON.stringify(QUES_ILLS));\r\n                    //获取选中疾病的答案id\r\n                    var tmpIdList = [];\r\n                    let findTmpIdList = function(data){\r\n                        data.map(item=>{\r\n                            if(item.choosed === 1 && item.type === 3){\r\n                                console.log(\"item\",item);\r\n                                tmpIdList.push(item.id);\r\n                                if(item.children.length>0){\r\n                                    findTmpIdList(item.children);\r\n                                }\r\n                            }\r\n                            else if(item.children.length>0){\r\n                                findTmpIdList(item.children);\r\n                            }\r\n                            else if(item.children.length === 0){\r\n                                console.log(\"item\",item);\r\n                                tmpIdList.push(item.id);\r\n                            }\r\n                        })\r\n                    }\r\n                    let tmp = findTmpIdList(QUES_ILLS);\r\n                    console.log(\"tmpIdList\",tmpIdList);\r\n                    this.chosedIllIds = tmpIdList;\r\n                    //获取核保结果\r\n                    let HEALTHY_TYPE = sessionStorage.getItem(\"HEALTHY_TYPE\") === '1'?2:1;\r\n                    let THAT = this;\r\n                    Indicator.open({\r\n                        text: '加载中...',\r\n                        spinnerType: 'fading-circle'\r\n                    });\r\n                    THAT.$http.getHttp({\r\n                        name:'fxResults',\r\n                        params:{\r\n                            type:HEALTHY_TYPE,\r\n                            ids:tmpIdList\r\n                        },\r\n                        orderId:THAT.orderId,\r\n                        type:'post'\r\n                    },\r\n                    res => {\r\n                        Indicator.close();\r\n                        let status = res.data.status;\r\n                        //返回的唯一标识 requestId\r\n                        //let requestId = res.data.requestId;\r\n                        //sessionStorage.setItem(\"REQUESTID\",requestId);\r\n                        let resultType = status === 100?'?resultType=1':status === 101?'?resultType=0':status === 102?'?resultType=2':status === 103 ? '?resultType=4':status === 201 ? '?resultType=3':''\r\n                        THAT.$router.push({path:'/fuxing/result'+resultType})\r\n                        console.log(res);//100 通过 101 拒保 102 除责 103人工核保 201数据不正确\r\n                    })\r\n                }\r\n                else{\r\n                    // this.initList(QUES_ILLS,2,3);\r\n                    // this.initList(QUES_ILLS,2,4);\r\n                    // console.log(\"QUES_ILLS\",QUES_ILLS);\r\n                    // this.QUES_ILLS = QUES_ILLS;\r\n                    sessionStorage.setItem(\"TMP_QUES_ILLS\",JSON.stringify(QUES_ILLS));\r\n                    //进入回答问题页面\r\n                    console.log(\"进入回答问题页面\");\r\n                    this.$router.push({path:'/fuxing/question'})\r\n                }\r\n            }\r\n        },\r\n        findQuestions(data){\r\n            data.map(item=>{\r\n                console.log(\"item\",item);\r\n                if(item.type==2){\r\n                    this.hasQuestion=true;\r\n                    return false;\r\n                }\r\n                if(item.children && item.children.length>0)this.findQuestions(item.children)\r\n            })\r\n        },\r\n        initList(data,type,level){\r\n            data.map((item,index) => {\r\n                if(item.type==type && item.level==level){\r\n                    this.$set(item,'choosed',2);\r\n                }\r\n                if(item.children && item.children.length>0)this.initList(item.children,type,level);\r\n            });\r\n        },\r\n        //选中疾病\r\n        choseDisease(fatherIndex, index, old){\r\n            this.type4arr[fatherIndex].children[index].choosed = old == 1 ? 0 : 1;\r\n            let hasCheckFather = false;\r\n            if (old != 1) {\r\n                hasCheckFather = true;\r\n            } else {\r\n                this.type4arr[fatherIndex].children.map((item, n) => {\r\n                    if (item.choosed == 1) {\r\n                        hasCheckFather = true;\r\n                        return false;\r\n                    }\r\n                })\r\n            }\r\n            this.type4arr[fatherIndex].choosed = hasCheckFather ? 1 : 0;\r\n        },\r\n        //找到 type = 4\r\n        findType4(arr){\r\n            let type4arr = [];\r\n            let findTypeList = function(data){\r\n                data.map(item=>{\r\n                    if(item.children.length>0 && item.children[0].type === 4){\r\n                        type4arr.push(item);\r\n                    }\r\n                    else{\r\n                        findTypeList(item.children);\r\n                    }\r\n                })\r\n            }\r\n            findTypeList(arr);\r\n            return type4arr;\r\n        },\r\n    },\r\n    mounted(){\r\n        let orderId = sessionStorage.getItem(\"ORDER_ID\");\r\n        this.orderId = orderId;\r\n        let QUES_ILLS = JSON.parse(sessionStorage.getItem(\"QUES_ILLS\"));\r\n        this.QUES_ILLS = QUES_ILLS;\r\n        let type4arr = this.findType4(QUES_ILLS);\r\n        this.type4arr = type4arr;\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.fx-index1{\r\n    width:100%;\r\n    height:100%;\r\n    .fx-wrapper{\r\n        padding-bottom:r(92);\r\n    }\r\n    .fx-btns{\r\n        height:r(92);\r\n        position:fixed;\r\n        bottom:0;\r\n        width:r(750);\r\n        border-top:1px solid #ddd;\r\n        div{\r\n            width:100%;\r\n            height:100%;\r\n            float:left;\r\n            text-align: center;\r\n            font-size:r(30);\r\n        }\r\n        .nextBtn{\r\n            background:#4580f6;\r\n            color:#fff;\r\n            line-height:r(92);\r\n        }\r\n    }\r\n    .fx-title{\r\n        height:r(70);\r\n        color:#4580f6;\r\n        line-height:r(70);\r\n        font-size:r(28);\r\n        background:#fff;\r\n        padding-left:r(30);\r\n        font-weight:bold;\r\n    }\r\n    .fx-content{\r\n        background:#fff;\r\n        .item{\r\n            border-top:r(2) solid #f6f6f6;\r\n            color:#000;\r\n            line-height:r(44);\r\n            padding:r(20);\r\n            font-size:r(30);\r\n            padding-left:r(52);\r\n            padding-right:r(86);\r\n            position:relative;\r\n            .activeItem{\r\n                // color:#4580f6;\r\n            }\r\n            .choseIcon{\r\n                width: r(30);\r\n                height:r(22);\r\n                background:url(\"../../../static/images/choseIcon.png\") center no-repeat;\r\n                background-size:r(30) r(22);\r\n                position:absolute;\r\n                right: r(29);\r\n                top: 50%;\r\n                transform: translateY(-50%);\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/fuxing/index1.vue"],"sourceRoot":""}